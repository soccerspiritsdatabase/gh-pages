{"version":3,"sources":["app.module.js","app.config.js","services/Calculator.service.js","services/Characters.service.js","services/Evolutions.service.js","services/ImageIcons.service.js","services/Skills.service.js","services/SpiritStones.service.js","services/TimeLogger.service.js","components/character-card/character-card.directive.js","components/character-chains-tab/character-chains-tab.directive.js","components/character-evolution-tab/character-evolution-tab.directive.js","components/character-skill/character-skill.directive.js","components/character-skills-tab/character-skills-tab.directive.js","components/character-stats-tab/character-stats-tab.directive.js","components/multi-select/multi-select.directive.js","routes/character-details/character-details.controller.js","routes/characters/characters.controller.js","routes/rankings/rankings.controller.js","routes/spirit-stones/spirit-stones.controller.js"],"names":["angular","module","config","$compileProvider","$stateProvider","$urlRouterProvider","debugInfoEnabled","otherwise","state","url","templateUrl","controller","service","minStatRate","value","level","Math","ceil","min","pow","round","accuracy","isNaN","this","MAX_LEVEL","POSITION_STATS","LWF","dribble","hp","actionSpeed","critical","ST","steal","SS","defense","reflex","RWF","LWM","recovery","pass","CAM","CM","RWM","LM","RM","CDM","LWB","RWB","LB","CB","RB","GK","calcPrimaryStat","character","stat","superb","bonus","floor","max","range","increment","calcSecondaryStats","power","technique","vitality","speed","position","stats","name","positionStats","Object","keys","forEach","positionBuff","$http","$q","Skills","charactersById","characters","promise","get","success","data","map","key","sort","a","b","en","id","then","copy","getAll","filter","filters","nameRegex","RegExp","split","join","push","match","filterName","Array","isArray","length","setMethod","filterValue","some","characterValue","undefined","extremeEvolution","isPlayer","evolution","isManager","queue","skill","ace","type","description","skills","active","passive","passives","skillId","result","reduce","prev","filterFn","Characters","processMaterials","all","materials","material","index","evolutionsById","evolutions","characterId","i","preResult","reverse","group","item","toLowerCase","skillsById","regexArr","str","every","regex","e","ImageIcons","spiritStones","spiritStonesById","spiritStone","rarity","iconImage","element","zodiac","zodiacImage","times","start","Date","getTime","end","console","log","directive","$window","restrict","scope","model","link","initialize","image","imageId","star","evolutionNumber","isOther","stars","calculateFontSize","event","fontSize","clientWidth","$apply","$watch","addEventListener","$on","removeEventListener","Calculator","chain","chains","Evolutions","getFirstEvolution","preEvolution","getNextEvolutions","levelIndex","effects","cooldown","unit","calculateStats","options","secondaryStats","merge","statOptionValues","statOptions","setBonusStats","bonusStat","statName","getBonusStats","statNames","positions","row","indexOf","pop","main","color","multiple","required","selectOption","option","splice","isOptionSelected","$scope","$stateParams","ctrl","imageIcons","gender","weatherImmunity","special","stoneElements","tabs","selectedTab","shift","tab","select","isSelected","$localStorage","filterValues","characterFilterValues","formatValue","filterTemplates","boolean","characterType","icon","season","isSpecial","skillFilters","pageLimits","pageLimit","maxLimit","slice","SpiritStones","spiritStoneFilterValues"],"mappings":"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","file":"bundle.min.js","sourcesContent":["angular.module('app', [\r\n  'templates',\r\n  'ui.router',\r\n  'ngStorage'\r\n]);","angular.module('app')\r\n.config(function ($compileProvider, $stateProvider, $urlRouterProvider) {\r\n  $compileProvider.debugInfoEnabled(false);\r\n  \r\n  $urlRouterProvider.otherwise('/characters');\r\n  \r\n  $stateProvider\r\n  .state('characters', {\r\n    url: '/characters',\r\n    templateUrl: 'routes/characters/characters.html',\r\n    controller: 'CharactersController as ctrl'\r\n  })\r\n  .state('character-details', {\r\n    url: '/characters/details/:characterId',\r\n    templateUrl: 'routes/character-details/character-details.html',\r\n    controller: 'CharacterDetailsController as ctrl'\r\n  })\r\n  .state('spirit-stones', {\r\n    url: '/spiritstones',\r\n    templateUrl: 'routes/spirit-stones/spirit-stones.html',\r\n    controller: 'SpiritStonesController as ctrl'\r\n  })\r\n  .state('rankings', {\r\n    url: '/rankings',\r\n    templateUrl: 'routes/rankings/rankings.html',\r\n    controller: 'RankingsController as ctrl'\r\n  });\r\n});","angular.module('app')\r\n.service('Calculator', function () {\r\n\tvar service = this;\r\n\t\r\n\tvar MAX_LEVEL = 60;\r\n\tvar POSITION_STATS = {\r\n\t\tLWF: {\r\n\t\t\tdribble: 0.1,\r\n\t\t\thp: 0.05,\r\n\t\t\tactionSpeed: 0.1,\r\n\t\t\tcritical: 0.05\r\n\t\t},\r\n\t\tST: {\r\n\t\t\tdribble: 0.1,\r\n\t\t\tactionSpeed: 0.05,\r\n\t\t\tcritical: 0.1,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tSS: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\tdefense: 0.05,\r\n\t\t\tactionSpeed: 0.1,\r\n\t\t\tcritical: 0.05,\r\n\t\t\treflex: 0.05\r\n\t\t},\r\n\t\tRWF: {\r\n\t\t\tdribble: 0.1,\r\n\t\t\thp: 0.05,\r\n\t\t\tactionSpeed: 0.1,\r\n\t\t\tcritical: 0.05\r\n\t\t},\r\n\t\tLWM: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\thp: 0.05,\r\n\t\t\trecovery: 0.05,\r\n\t\t\tactionSpeed: 0.05,\r\n\t\t\tcritical: 0.05,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.05\r\n\t\t},\r\n\t\tCAM: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\trecovery: 0.05,\r\n\t\t\tactionSpeed: 0.05,\r\n\t\t\tcritical: 0.1,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.05\r\n\t\t},\r\n\t\tCM: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\tdefense: 0.05,\r\n\t\t\trecovery: 0.1,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.1,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tRWM: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\thp: 0.05,\r\n\t\t\trecovery: 0.05,\r\n\t\t\tactionSpeed: 0.05,\r\n\t\t\tcritical: 0.05,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.05\r\n\t\t},\r\n\t\tLM: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\tdefense: 0.05,\r\n\t\t\trecovery: 0.1,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.1,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tRM: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\tdefense: 0.05,\r\n\t\t\trecovery: 0.1,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.1,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tCDM: {\r\n\t\t\tdefense: 0.1,\r\n\t\t\thp: 0.05,\r\n\t\t\treflex: 0.1,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tLWB: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\tdefense: 0.05,\r\n\t\t\thp: 0.05,\r\n\t\t\trecovery: 0.05,\r\n\t\t\treflex: 0.1,\r\n\t\t\tpass: 0.05\r\n\t\t},\r\n\t\tRWB: {\r\n\t\t\tdribble: 0.05,\r\n\t\t\tdefense: 0.05,\r\n\t\t\thp: 0.05,\r\n\t\t\trecovery: 0.05,\r\n\t\t\treflex: 0.1,\r\n\t\t\tpass: 0.05\r\n\t\t},\r\n\t\tLB: {\r\n\t\t\tdefense: 0.05,\r\n\t\t\thp: 0.1,\r\n\t\t\trecovery: 0.05,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.05,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tCB: {\r\n\t\t\tdefense: 0.1,\r\n\t\t\thp: 0.1,\r\n\t\t\treflex: 0.05,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tRB: {\r\n\t\t\tdefense: 0.05,\r\n\t\t\thp: 0.1,\r\n\t\t\trecovery: 0.05,\r\n\t\t\treflex: 0.05,\r\n\t\t\tpass: 0.05,\r\n\t\t\tsteal: 0.05\r\n\t\t},\r\n\t\tGK: {\r\n\t\t\tdefense: 0.15,\r\n\t\t\thp: 0.3,\r\n\t\t\tsteal: 0.05\r\n\t\t}\r\n\t};\r\n\t\r\n\tservice.calcPrimaryStat = function (character, stat, level, superb, bonus) {\r\n\t\tvar min = Math.floor(character[stat].min * minStatRate(character.value, level));\r\n\t\tvar max = character[stat].max;\r\n\t\tvar range = max - min;\r\n\t\tvar increment = range / (MAX_LEVEL - 1);\r\n\t\t\r\n\t\tvar value = Math.floor(min + (increment * (level - 1)));\r\n\t\tif (!isNaN(superb) && superb > 0) {\r\n\t\t\t// +10% per superb\r\n\t\t\tvalue = Math.floor(value + (value * 0.1 * superb));\r\n\t\t}\r\n\t\tif (!isNaN(bonus) && bonus > 0) {\r\n\t\t\tvalue = Math.floor(value + bonus);\r\n\t\t}\r\n\t\treturn value;\r\n\t};\r\n\t\r\n\tservice.calcSecondaryStats = function (power, technique, vitality, speed, level, position) {\r\n\t\tvar stats = {\r\n\t\t\tdribble: { value: Math.floor(5 + power + (speed * 0.2)) },\r\n\t\t\tdefense: { value: Math.floor((vitality * 0.2) + (technique * 0.8)) },\r\n\t\t\tsteal: { value: Math.floor(5 + technique + (speed * 0.2)) },\r\n\t\t\thp: { value: Math.floor(20 + (level * 0.8) + Math.round(vitality * 1.8)) },\r\n\t\t\tpass: { value: Math.floor(3 + (technique * 0.8)) },\r\n\t\t\treflex: { value: Math.floor(((5 + technique + (speed / 12)) / 4 / (level + 30)) * 1000) },\r\n\t\t\tactionSpeed: { value: Math.floor(30 + (speed * 0.1)) },\r\n\t\t\trecovery: { value: 0.03 + (power + vitality) * 0.002 },\r\n\t\t\tcritical: { value: 0.05 + (power * 0.3 + technique * 0.8 + speed * 0.4) * 0.001 }\r\n\t\t};\r\n\t\t\r\n\t\tif (position && position.name && POSITION_STATS[position.name]) {\r\n\t\t\tvar positionStats = POSITION_STATS[position.name];\r\n\t\t\tObject.keys(positionStats).forEach(function (stat) {\r\n\t\t\t\tvar value = positionStats[stat];\r\n\t\t\t\tvalue *= (position.main) ? 2 : 1.5;\r\n\t\t\t\t\r\n\t\t\t\tif (stat === 'critical') {\r\n\t\t\t\t\tstats[stat].value += value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstats[stat].value += stats[stat].value * value;\r\n\t\t\t\t\tif (stat !== 'recovery') {\r\n\t\t\t\t\t\tstats[stat].value = Math.floor(stats[stat].value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tstats[stat].positionBuff = true;\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tstats.recovery.value = round(stats.recovery.value, 100);\r\n\t\tstats.critical.value = round(stats.critical.value * 100, 10) + '%';\r\n\t\treturn stats;\r\n\t};\r\n\t\r\n\tfunction minStatRate (value, level) {\r\n\t\tif (level / 10 > value) {\r\n\t\t\tvalue = Math.ceil(level / 10);\r\n\t\t}\r\n\t\treturn Math.min(1, Math.pow(0.176, (6 - value) / 10));\r\n\t}\r\n\t\r\n\tfunction round (value, accuracy) {\r\n\t\tif (isNaN(accuracy)) {\r\n\t\t\treturn Math.round(value);\r\n\t\t}\r\n\t\treturn Math.round(value * accuracy) / accuracy;\r\n\t}\r\n});","angular.module('app')\r\n.service('Characters', function ($http, $q, Skills) {\r\n\tvar service = this;\r\n\t\r\n\tvar charactersById, characters;\r\n\t\r\n\tvar promise = $http.get('data/json_files/characters.json')\r\n\t.success(function (data) {\r\n\t\tcharactersById = data;\r\n\t\tcharacters = Object.keys(charactersById).map(function (key) {\r\n\t\t\treturn charactersById[key];\r\n\t\t})\r\n\t\t.sort(function (a, b) {\r\n\t\t\t// by name\r\n\t\t\tif (a.name.en < b.name.en) return -1;\r\n\t\t\tif (a.name.en > b.name.en) return 1;\r\n\t\t\t// by rarity\r\n\t\t\tif (a.value > b.value) return -1;\r\n\t\t\tif (a.value < b.value) return 1;\r\n\t\t\t// by id\r\n\t\t\tif (a.id < b.id) return -1;\r\n\t\t\tif (a.id > b.id) return 1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t});\r\n\t\r\n\tservice.get = function (id) {\r\n\t\treturn promise.then(function () {\r\n\t\t\treturn angular.copy(charactersById[id]);\r\n\t\t});\r\n\t};\r\n\t\r\n\tservice.getAll = function (filter) {\r\n\t\tvar filters = [];\r\n\t\r\n\t\tif (filter.name) {\r\n\t\t\tvar nameRegex = new RegExp(filter.name.split(/\\s+/).join('.*'), 'i');\r\n\t\t\tfilters.push(function (character) {\r\n\t\t\t\treturn character.name.en.match(nameRegex);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t['characterType', 'gender', 'type', 'element', 'value', 'stoneElements', 'season', 'weatherImmunity'].forEach(function (filterName) {\r\n\t\t\tif (filter[filterName]) {\r\n\t\t\t\tfilters.push(function (character) {\r\n\t\t\t\t\tif (!character[filterName]) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (Array.isArray(filter[filterName])) {\r\n\t\t\t\t\t\tif (filter[filterName].length === 0) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar setMethod = (filterName === 'stoneElements') ? 'every' : 'some';\r\n\t\t\t\t\t\treturn filter[filterName][setMethod](function (filterValue) {\r\n\t\t\t\t\t\t\tif (Array.isArray(character[filterName])) {\r\n\t\t\t\t\t\t\t\treturn character[filterName].some(function (characterValue) {\r\n\t\t\t\t\t\t\t\t\treturn characterValue == filterValue;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn character[filterName] == filterValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (Array.isArray(character[filterName])) {\r\n\t\t\t\t\t\t\treturn character[filterName].some(function (characterValue) {\r\n\t\t\t\t\t\t\t\treturn characterValue == filter[filterName];\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn character[filterName] == filter[filterName];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t['isSpecial'].forEach(function (filterName) {\r\n\t\t\tif (typeof filter[filterName] === 'boolean') {\r\n\t\t\t\tfilters.push(function (character) {\r\n\t\t\t\t\treturn character[filterName] == filter[filterName];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tfilters.push(function (character) {\r\n\t\t\tif (filter.extremeEvolution !== undefined) {\r\n\t\t\t\tif (character.isPlayer) {\r\n\t\t\t\t\tif (filter.extremeEvolution) {\r\n\t\t\t\t\t\treturn character.id >= 30000 && character.id < 40000;\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn character.id >= 20000 && character.id < 30000 &&\r\n\t\t\t\t\t\t\t!character.evolution;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (character.isPlayer || character.isManager) {\r\n\t\t\t\treturn !character.evolution;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t\r\n\t\tvar queue = promise;\r\n\t\tif (filter.skill) {\r\n\t\t\tif (filter.skill.ace) {\r\n\t\t\t\tqueue = queue.then(function () {\r\n\t\t\t\t\treturn Skills.getAll({\r\n\t\t\t\t\t\ttype: 'Ace',\r\n\t\t\t\t\t\tdescription: filter.skill.ace\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(function (skills) {\r\n\t\t\t\t\tfilters.push(function (character) {\r\n\t\t\t\t\t\treturn character.skills.ace && skills.some(function (skill) {\r\n\t\t\t\t\t\t\treturn skill.id === character.skills.ace;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (filter.skill.active) {\r\n\t\t\t\tqueue = queue.then(function () {\r\n\t\t\t\t\treturn Skills.getAll({\r\n\t\t\t\t\t\ttype: 'Active',\r\n\t\t\t\t\t\tdescription: filter.skill.active\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(function (skills) {\r\n\t\t\t\t\tfilters.push(function (character) {\r\n\t\t\t\t\t\treturn character.skills.active && skills.some(function (skill) {\r\n\t\t\t\t\t\t\treturn skill.id === character.skills.active;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (filter.skill.passive) {\r\n\t\t\t\tqueue = queue.then(function () {\r\n\t\t\t\t\treturn Skills.getAll({\r\n\t\t\t\t\t\ttype: 'Passive',\r\n\t\t\t\t\t\tdescription: filter.skill.passive\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(function (skills) {\r\n\t\t\t\t\tfilters.push(function (character) {\r\n\t\t\t\t\t\treturn character.skills.passives && skills.some(function (skill) {\r\n\t\t\t\t\t\t\treturn character.skills.passives.some(function (skillId) {\r\n\t\t\t\t\t\t\t\treturn skillId === skill.id;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn queue.then(function () {\r\n\t\t\tvar result;\r\n\t\t\tresult = filters.reduce(function (prev, filterFn) {\r\n\t\t\t\treturn prev.filter(filterFn);\r\n\t\t\t}, characters);\r\n\t\t\treturn result;\r\n\t\t});\r\n\t};\r\n});","angular.module('app')\r\n.service('Evolutions', function ($http, $q, Characters) {\r\n\tvar service = this;\r\n\t\r\n\tvar evolutionsById, evolutions;\r\n\t\r\n\tvar promise = $http.get('data/json_files/evolutions.json')\r\n\t.success(function (data) {\r\n\t\tevolutionsById = data;\r\n\t\tevolutions = Object.keys(evolutionsById).map(function (key) {\r\n\t\t\treturn evolutionsById[key];\r\n\t\t});\r\n\t});\r\n\t\r\n\tservice.get = function (characterId) {\r\n\t\treturn promise.then(function () {\r\n\t\t\tfor (var i = 0; i < evolutions.length; i++) {\r\n\t\t\t\tif (evolutions[i].preResult === characterId) {\r\n\t\t\t\t\treturn processMaterials(angular.copy(evolutions[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t};\r\n\t\r\n\tservice.reverse = function (characterId) {\r\n\t\treturn promise.then(function () {\r\n\t\t\tfor (var i = 0; i < evolutions.length; i++) {\r\n\t\t\t\tif (evolutions[i].result === characterId) {\r\n\t\t\t\t\treturn processMaterials(angular.copy(evolutions[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t};\r\n\t\r\n\tfunction processMaterials (evolution) {\r\n\t\tif (evolution) {\r\n\t\t\treturn $q.all(evolution.materials.map(function (material) {\r\n\t\t\t\treturn Characters.get(material.character);\r\n\t\t\t}))\r\n\t\t\t.then(function (characters) {\r\n\t\t\t\tevolution.materials.forEach(function (material, index) {\r\n\t\t\t\t\tmaterial.character = characters[index];\r\n\t\t\t\t});\r\n\t\t\t\treturn evolution;\r\n\t\t\t});\t\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n});;","angular.module('app')\r\n.service('ImageIcons', function () {\r\n\tvar service = this;\r\n\t\r\n\tservice.get = function (group, item) {\r\n\t\tif (group && item) {\r\n\t\t\treturn [\r\n\t\t\t\t'img/icons/',\r\n\t\t\t\tgroup.toLowerCase(),\r\n\t\t\t\t'/',\r\n\t\t\t\titem.toLowerCase(),\r\n\t\t\t\t'.png'\r\n\t\t\t].join('');\r\n\t\t}\r\n\t\treturn '';\r\n\t};\r\n});","angular.module('app')\r\n.service('Skills', function ($http, $q) {\r\n\tvar service = this;\r\n\t\r\n\tvar skillsById, skills;\r\n\t\r\n\tvar promise = $http.get('data/json_files/skills.json')\r\n\t.success(function (data) {\r\n\t\tskillsById = data;\r\n\t\tskills = Object.keys(skillsById).map(function (key) {\r\n\t\t\treturn skillsById[key];\r\n\t\t});\r\n\t});\r\n\t\r\n\tservice.get = function (id) {\r\n\t\treturn promise.then(function () {\r\n\t\t\treturn angular.copy(skillsById[id]);\r\n\t\t});\r\n\t};\r\n\t\r\n\tservice.getAll = function (filter) {\r\n\t\tvar filters = [];\r\n\t\t\r\n\t\t['type'].forEach(function (filterName) {\r\n\t\t\tif (filter[filterName]) {\r\n\t\t\t\tfilters.push(function (skill) {\r\n\t\t\t\t\treturn skill[filterName] === filter[filterName];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tif (filter.description) {\r\n\t\t\ttry {\r\n\t\t\t\tvar regexArr = filter.description.split(/\\s+/).map(function (str) {\r\n\t\t\t\t\treturn new RegExp(str, 'i');\r\n\t\t\t\t});\r\n\t\t\t\tfilters.push(function (skill) {\r\n\t\t\t\t\treturn regexArr.every(function (regex) {\r\n\t\t\t\t\t\treturn skill.description.en.match(regex);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\t\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\t\r\n\t\treturn promise.then(function () {\r\n\t\t\tvar result;\r\n\t\t\tresult = filters.reduce(function (prev, filterFn) {\r\n\t\t\t\treturn prev.filter(filterFn);\r\n\t\t\t}, skills);\r\n\t\t\treturn result;\r\n\t\t});\r\n\t};\r\n});","angular.module('app')\r\n.service('SpiritStones', function ($http, $q, Skills, ImageIcons) {\r\n\tvar service = this;\r\n\t\r\n\tvar spiritStones, spiritStonesById;\r\n\t\r\n\tvar promise = $http.get('data/json_files/spiritStones.json').success(function (data) {\r\n\t\tspiritStonesById = data;\r\n\t\t\r\n\t\tspiritStones = Object.keys(spiritStonesById)\r\n\t\t.map(function (id) {\r\n\t\t\treturn spiritStonesById[id];\r\n\t\t})\r\n\t\t.filter(function (spiritStone) {\r\n\t\t\treturn spiritStone.value >= 6;\r\n\t\t})\r\n\t\t.sort(function (a, b) {\r\n\t\t\tif (a.name.en < b.name.en) return -1;\r\n\t\t\tif (a.name.en > b.name.en) return 1;\r\n\t\t\tif (a.value < b.value) return -1;\r\n\t\t\tif (a.value > b.value) return 1;\r\n\t\t\tif (a.id < b.id) return -1;\r\n\t\t\tif (a.id > b.id) return 1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t\t\r\n\t\tspiritStones.forEach(function (spiritStone) {\r\n\t\t\tif (spiritStone.rarity === 'Unique') {\r\n\t\t\t\tspiritStone.iconImage = ImageIcons.get('stone', spiritStone.iconImage);\t\r\n\t\t\t} else {\r\n\t\t\t\tspiritStone.iconImage = ImageIcons.get('stone', spiritStone.element + '-' + spiritStone.rarity);\r\n\t\t\t}\r\n\t\t\tif (spiritStone.zodiac) {\r\n\t\t\t\tspiritStone.zodiacImage = ImageIcons.get('stone', spiritStone.zodiac);\t\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t\r\n\tservice.getAll = function (filter) {\r\n\t\tif (!filter) {\r\n\t\t\tfilter = {};\r\n\t\t}\r\n\t\t\r\n\t\tvar filters = [];\r\n\t\t\r\n\t\tif (filter.name) {\r\n\t\t\tvar nameRegex = new RegExp(filter.name.split(/\\s+/).join('.+'), 'i');\r\n\t\t\tfilters.push(function (spiritStone) {\r\n\t\t\t\treturn spiritStone.name.en.match(nameRegex);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t['element', 'zodiac', 'rarity'].forEach(function (filterName) {\r\n\t\t\tif (filter[filterName]) {\r\n\t\t\t\tfilters.push(function (spiritStone) {\r\n\t\t\t\t\treturn spiritStone[filterName] === filter[filterName];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tvar queue = promise;\r\n\t\tif (filter.skill) {\r\n\t\t\tqueue = queue.then(function () {\r\n\t\t\t\treturn Skills.getAll({\r\n\t\t\t\t\ttype: 'Item',\r\n\t\t\t\t\tdescription: filter.skill\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then(function (skills) {\r\n\t\t\t\tfilters.push(function (spiritStone) {\r\n\t\t\t\t\treturn spiritStone.skills.some(function (skillId) {\r\n\t\t\t\t\t\treturn skills.some(function (skill) {\r\n\t\t\t\t\t\t\treturn skill.id === skillId;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn queue.then(function () {\r\n\t\t\treturn filters.reduce(function (prev, filterFn) {\r\n\t\t\t\treturn prev.filter(filterFn);\r\n\t\t\t}, spiritStones);\r\n\t\t});\r\n\t};\r\n\t\r\n});","angular.module('app')\r\n.service('TimeLogger', function ($http, $q) {\r\n\tvar service = this;\r\n\tvar times = {};\r\n\t\r\n\tservice.start = function (id) {\r\n\t\ttimes[id] = new Date().getTime();\r\n\t};\r\n\t\r\n\tservice.end = function (id) {\r\n\t\tconsole.log('[TimeLogger]', id, (new Date().getTime() - times[id]) + 'ms');\r\n\t};\r\n});","angular.module('app')\r\n.directive('characterCard', function ($window, Characters) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tmodel: '=ngModel'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/character-card/character-card.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\t\r\n\t\t\tscope.$watch('model', function (model) {\r\n\t\t\t\tif (!model) return;\r\n\t\t\t\t\r\n\t\t\t\tif (!isNaN(model)) {\r\n\t\t\t\t\tCharacters.get(model).then(initialize);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinitialize(model);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tfunction initialize (character) {\r\n\t\t\t\tscope.character = character;\r\n\t\t\t\t\r\n\t\t\t\tscope.image = {};\r\n\t\t\t\tscope.image.character = 'data/card_files/' + scope.character.imageId + '_CS.jpg';\r\n\t\t\t\tscope.image.star = 'img/icons/star/';\r\n\t\t\t\r\n\t\t\t\tvar evolutionNumber = Math.floor(scope.character.id / 10000) % 3;\r\n\t\t\t\tif (character.isOther || evolutionNumber === 1) {\r\n\t\t\t\t\tscope.image.star += 'normal';\r\n\t\t\t\t} else if (evolutionNumber === 2) {\r\n\t\t\t\t\tscope.image.star += 'evolved';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscope.image.star += 'extreme-evolved';\r\n\t\t\t\t}\r\n\t\t\t\tscope.image.star += '.png';\r\n\t\t\t\r\n\t\t\t\tscope.stars = [];\r\n\t\t\t\tfor (var i = 0; i < scope.character.value; i++) {\r\n\t\t\t\t\tscope.stars.push(i);\r\n\t\t\t\t}\r\n\t\t\t\tcalculateFontSize();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfunction calculateFontSize (event) {\r\n\t\t\t\tscope.fontSize = Math.min(25, (element[0].clientWidth / 10)) + 'px';\r\n\t\t\t\tif (event) {\r\n\t\t\t\t\tscope.$apply();\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$window.addEventListener('resize', calculateFontSize);\r\n\t\t\tscope.$on('$destroy', function () {\r\n\t\t\t\t$window.removeEventListener('resize', calculateFontSize);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n});","angular.module('app')\r\n.directive('characterChainsTab', function (Calculator) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tcharacter: '=ngModel'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/character-chains-tab/character-chains-tab.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\tscope.$watch('character', function (character) {\r\n\t\t\t\tif (!character || !character.chain || !character.chain.chains) return;\r\n\t\t\t\t\r\n\t\t\t\tscope.chains = character.chain.chains;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n});","angular.module('app')\r\n.directive('characterEvolutionTab', function ($q, Evolutions) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tcharacter: '=ngModel'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/character-evolution-tab/character-evolution-tab.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\tscope.$watch('character', function (character) {\r\n\t\t\t\tif (!character) return;\r\n\t\t\t\t\r\n\t\t\t\tgetFirstEvolution(character.id)\r\n\t\t\t\t.then(function (id) {\r\n\t\t\t\t\treturn getNextEvolutions(id);\r\n\t\t\t\t})\r\n\t\t\t\t.then(function (evolutions) {\r\n\t\t\t\t\tscope.evolutions = evolutions;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\tfunction getFirstEvolution (id) {\r\n\t\treturn Evolutions.reverse(id)\r\n\t\t.then(function (preEvolution) {\r\n\t\t\tif (preEvolution) {\r\n\t\t\t\treturn getFirstEvolution(preEvolution.preResult);\r\n\t\t\t} else {\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction getNextEvolutions (id, result) {\r\n\t\tif (!result) result = [];\r\n\t\t\r\n\t\treturn Evolutions.get(id)\r\n\t\t.then(function (evolution) {\r\n\t\t\tif (evolution) {\r\n\t\t\t\tresult.push(evolution);\r\n\t\t\t\treturn getNextEvolutions(evolution.result, result);\r\n\t\t\t} else {\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});","angular.module('app')\r\n.directive('characterSkill', function ($q, Skills) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tskillId: '=ngModel'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/character-skill/character-skill.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\tscope.$watch('skillId', function (skillId) {\r\n\t\t\t\tif (!skillId) return;\r\n\t\t\t\t\r\n\t\t\t\tSkills.get(skillId)\r\n\t\t\t\t.then(function (skill) {\r\n\t\t\t\t\tscope.skill = skill;\r\n\t\t\t\t\tscope.levelIndex = skill.effects.length - 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (skill.cooldown > 60) {\r\n\t\t\t\t\t\tscope.cooldown = {\r\n\t\t\t\t\t\t\tvalue: skill.cooldown / (60 * 60),\r\n\t\t\t\t\t\t\tunit: ' hour'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscope.cooldown = {\r\n\t\t\t\t\t\t\tvalue: skill.cooldown,\r\n\t\t\t\t\t\t\tunit: ' min'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (scope.cooldown.value !== 1) {\r\n\t\t\t\t\t\tscope.cooldown.unit += 's';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n});","angular.module('app')\r\n.directive('characterSkillsTab', function ($q, Skills) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tcharacter: '=ngModel'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/character-skills-tab/character-skills-tab.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n});","angular.module('app')\r\n.directive('characterStatsTab', function (Calculator) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tcharacter: '=ngModel'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/character-stats-tab/character-stats-tab.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\tscope.$watch('character', function (character) {\r\n\t\t\t\tif (!character) return;\r\n\t\t\t\t\t\r\n\t\t\t\tscope.statOptionValues = {\r\n\t\t\t\t\tlevel: [1],\r\n\t\t\t\t\tsuperb: [0, 1, 2, 3, 4, 5]\r\n\t\t\t\t};\r\n\t\t\t\tfor (var i = character.value; i <= 6; i++) {\r\n\t\t\t\t\tscope.statOptionValues.level.push(i * 10);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tscope.statOptions = {\r\n\t\t\t\t\tlevel: 1,\r\n\t\t\t\t\tsuperb: 0,\r\n\t\t\t\t\tbonus: {\r\n\t\t\t\t\t\tpower: 0,\r\n\t\t\t\t\t\ttechnique: 0,\r\n\t\t\t\t\t\tvitality: 0,\r\n\t\t\t\t\t\tspeed: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tscope.setBonusStats = function (bonusStat) {\r\n\t\t\t\t\tObject.keys(scope.statOptions.bonus).forEach(function (statName) {\r\n\t\t\t\t\t\tscope.statOptions.bonus[statName] = bonusStat;\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tscope.getBonusStats = function () {\r\n\t\t\t\t\tvar statNames = Object.keys(scope.statOptions.bonus);\r\n\t\t\t\t\treturn statNames.reduce(function (prev, statName) {\r\n\t\t\t\t\t\treturn prev + scope.statOptions.bonus[statName]\r\n\t\t\t\t\t}, 0) / statNames.length;\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tscope.positions = [ \r\n\t\t\t\t\t[['LWF'], ['ST', 'SS'], ['RWF']],\r\n\t\t\t\t\t[['LM', 'LWM'], ['CM', 'CDM', 'CAM'], ['RM', 'RWM']],\r\n\t\t\t\t\t[['LB', 'LWB'], ['CB'], ['RB', 'RWB']],\r\n\t\t\t\t\t[['GK']]\r\n\t\t\t\t].map(function (row) {\r\n\t\t\t\t\treturn row.map(function (positions) {\r\n\t\t\t\t\t\tvar position = positions.filter(function (position) {\r\n\t\t\t\t\t\t\treturn character.positions.indexOf(position) !== -1; \r\n\t\t\t\t\t\t}).pop();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (position) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tname: position,\r\n\t\t\t\t\t\t\t\tmain: character.positions[0] === position\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tscope.stats = {\r\n\t\t\t\t\tpower: { name: 'Power', color: 'red' },\r\n\t\t\t\t\ttechnique: { name: 'Technique', color: 'blue' },\r\n\t\t\t\t\tvitality: { name: 'Vitality', color: 'green' },\r\n\t\t\t\t\tspeed: { name: 'Speed', color: 'violet' }\r\n\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tscope.$watch('statOptions', function (options) {\r\n\t\t\t\tif (options) {\r\n\t\t\t\t\tcalculateStats(scope.character, options)\t\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\tfunction calculateStats (character, options) {\r\n\t\t\t\t['power', 'technique', 'vitality', 'speed'].forEach(function (stat) {\r\n\t\t\t\t\tscope.stats[stat].value = Calculator.calcPrimaryStat(character, stat, options.level, options.superb, options.bonus[stat]);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tvar secondaryStats = Calculator.calcSecondaryStats(\r\n\t\t\t\t\tscope.stats.power.value,\r\n\t\t\t\t\tscope.stats.technique.value,\r\n\t\t\t\t\tscope.stats.vitality.value,\r\n\t\t\t\t\tscope.stats.speed.value,\r\n\t\t\t\t\toptions.level,\r\n\t\t\t\t\toptions.position\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\tscope.secondaryStats = [\r\n\t\t\t\t\t[angular.merge({ name: 'Dribble' }, secondaryStats.dribble), angular.merge({ name: 'Defense' }, secondaryStats.defense)],\r\n\t\t\t\t\t[angular.merge({ name: 'Steal' }, secondaryStats.steal), angular.merge({ name: 'HP' }, secondaryStats.hp)],\r\n\t\t\t\t\t[angular.merge({ name: 'Pass' }, secondaryStats.pass), angular.merge({ name: 'Reflex' }, secondaryStats.reflex)],\r\n\t\t\t\t\t[angular.merge({ name: 'Action Speed' }, secondaryStats.actionSpeed), angular.merge({ name: 'Recovery' }, secondaryStats.recovery)],\r\n\t\t\t\t\t[angular.merge({ name: 'Critical' }, secondaryStats.critical)],\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});","angular.module('app')\r\n.directive('multiSelect', function ($q, Skills) {\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\tscope: {\r\n\t\t\tmodel: '=ngModel',\r\n\t\t\toptions: '=options',\r\n\t\t\tmultiple: '=multiple',\r\n\t\t\trequired: '=required'\r\n\t\t},\r\n\t\ttemplateUrl: 'components/multi-select/multi-select.html',\r\n\t\tlink: function (scope, element) {\r\n\t\t\tscope.selectOption = function (option) {\r\n\t\t\t\tif (scope.multiple) {\r\n\t\t\t\t\tif (!scope.model) {\r\n\t\t\t\t\t\tscope.model = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar index = scope.model.indexOf(option.value);\r\n\t\t\t\t\tif (index === -1) {\r\n\t\t\t\t\t\tscope.model.push(option.value);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscope.model.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (scope.model === option.value) {\r\n\t\t\t\t\t\tif (!scope.required) {\r\n\t\t\t\t\t\t\tdelete scope.model;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscope.model = option.value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tscope.isOptionSelected = function (option) {\r\n\t\t\t\tif (scope.multiple) {\r\n\t\t\t\t\tif (scope.model && scope.model.length > 0) {\r\n\t\t\t\t\t\treturn scope.model.indexOf(option.value) !== -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn scope.model === option.value;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (scope.required) {\r\n\t\t\t\tscope.selectOption(scope.options[0]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});","angular.module('app')\r\n.controller('CharacterDetailsController', function ($scope, $stateParams, Characters, Calculator, ImageIcons) {\r\n  var ctrl = this;\r\n  \r\n  Characters.get($stateParams.characterId)\r\n  .then(function (character) {\r\n    ctrl.character = character;\r\n    \r\n    ctrl.imageIcons = {\r\n      gender: ImageIcons.get('gender', character.gender),\r\n      element: ImageIcons.get('element', character.element),\r\n      type: ImageIcons.get('type', character.type),\r\n      weatherImmunity: ImageIcons.get('weather', character.weatherImmunity),\r\n      special: ImageIcons.get('other', 'special'),\r\n      stoneElements: (character.stoneElements) ? character.stoneElements.map(function (element) {\r\n        return ImageIcons.get('element', element);\r\n      }) : []\r\n    };\r\n    \r\n    ctrl.tabs = {\r\n      stats: { name: 'Stats' },\r\n      skills: { name: 'Skills' },\r\n      evolution: { name: 'Evolution' },\r\n      chains: { name: 'Chains' }\r\n    };\r\n    ctrl.selectedTab = Object.keys(ctrl.tabs).shift();\r\n    \r\n    ctrl.tabs = {};\r\n    if (!character.isManager) {\r\n      ctrl.tabs.stats = { name: 'Stats' }\r\n    }\r\n    ctrl.tabs.skills = { name: 'Skills' };\r\n    ctrl.tabs.evolution = { name: 'Evolution' };\r\n    if (character.chain) {\r\n      ctrl.tabs.chains = { name: 'Chains' };\r\n    }\r\n    \r\n    Object.keys(ctrl.tabs).forEach(function (key) {\r\n      var tab = ctrl.tabs[key];\r\n      \r\n      tab.select = function () {\r\n        ctrl.selectedTab = {};\r\n        ctrl.selectedTab[key] = true;\r\n      };\r\n      tab.isSelected = function () {\r\n        return ctrl.selectedTab[key];\r\n      };\r\n    });\r\n    ctrl.selectedTab = {};\r\n    ctrl.selectedTab[Object.keys(ctrl.tabs).shift()] = true;\r\n  });\r\n});","angular.module('app')\r\n.controller('CharactersController', function ($scope, $localStorage, Characters, ImageIcons) {\r\n  var ctrl = this;\r\n  \r\n  ctrl.filterValues = $localStorage.characterFilterValues;\r\n  if (!ctrl.filterValues) {\r\n    ctrl.filterValues = {};\r\n  }\r\n  \r\n  ctrl.formatValue = function (value) {\r\n    if (Array.isArray(value)) {\r\n      return value.join(', ');\r\n    }\r\n    return value;\r\n  };\r\n  \r\n  var filterTemplates = {\r\n    'boolean': {\r\n      options: [\r\n        { value: true },\r\n        { value: false }\r\n      ]\r\n    },\r\n    element: {\r\n      options: [\r\n        { value: 'Ardor', image: ImageIcons.get('element', 'ardor') },\r\n        { value: 'Whirlwind', image: ImageIcons.get('element', 'whirlwind') },\r\n        { value: 'Thunder', image: ImageIcons.get('element', 'thunder') },\r\n        { value: 'Light', image: ImageIcons.get('element', 'light') },\r\n        { value: 'Dark', image: ImageIcons.get('element', 'dark') }\r\n      ]\r\n    }\r\n  };\r\n  \r\n  ctrl.filters = {};\r\n  \r\n  ctrl.filters.characterType = {\r\n    name: 'Character Type',\r\n    options: [\r\n      { value: 'Player' },\r\n      { value: 'Manager' },\r\n      { value: 'Other' },\r\n    ],\r\n    required: true\r\n  };\r\n  \r\n  ctrl.filters.element = angular.merge({}, filterTemplates.element, {\r\n    name: 'Element',\r\n    multiple: true\r\n  });\r\n  \r\n  ctrl.filters.value = {\r\n    name: 'Rarity',\r\n    options: [\r\n      { value: 2, icon: 'star' },\r\n      { value: 3, icon: 'star' },\r\n      { value: 4, icon: 'star' },\r\n      { value: 5, icon: 'star' },\r\n      { value: 6, icon: 'star' },\r\n    ],\r\n    multiple: true\r\n  };\r\n  \r\n  ctrl.filters.gender = {\r\n    name: 'Gender',\r\n    options: [\r\n      { value: 'Male', image: ImageIcons.get('gender', 'male') },\r\n      { value: 'Female', image: ImageIcons.get('gender', 'female') }\r\n    ]\r\n  };\r\n  \r\n  ctrl.filters.extremeEvolution = angular.merge({}, filterTemplates.boolean, {\r\n    name: 'Extreme Evolution'\r\n  });\r\n  \r\n  ctrl.filters.type = {\r\n    name: 'Player Type',\r\n    options: [\r\n      { value: 'Striker', image: ImageIcons.get('type', 'striker') },\r\n      { value: 'Attacker', image: ImageIcons.get('type', 'attacker') },\r\n      { value: 'Defender', image: ImageIcons.get('type', 'defender') },\r\n      { value: 'Assist', image: ImageIcons.get('type', 'assist') },\r\n      { value: 'Leader', image: ImageIcons.get('type', 'leader') }\r\n    ],\r\n    multiple: true\r\n  };\r\n  \r\n  ctrl.filters.stoneElements = angular.merge({}, filterTemplates.element, {\r\n    name: 'Spirit Stone',\r\n    multiple: true\r\n  });\r\n  \r\n  ctrl.filters.weatherImmunity = {\r\n    name: 'Weather Immunity',\r\n    options: [\r\n      { value: 'Rainy Weather', image: ImageIcons.get('weather', 'rainy weather') },\r\n      { value: 'Soul Grave', image: ImageIcons.get('weather', 'soul grave') },\r\n      { value: 'Piercing Wind', image: ImageIcons.get('weather', 'piercing wind') }\r\n    ],\r\n    multiple: true\r\n  }\r\n  \r\n  ctrl.filters.season = {\r\n    name: 'Season',\r\n    options: [\r\n      { value: 1 },\r\n      { value: 2 }\r\n    ]\r\n  };\r\n  \r\n  ctrl.filters.isSpecial = angular.merge({}, filterTemplates.boolean, {\r\n    name: 'Special'\r\n  });\r\n  \r\n  ctrl.skillFilters = {\r\n    ace: { name: 'Ace Skill' },\r\n    active: { name: 'Active Skill' },\r\n    passive: { name: 'Passive Skill' }\r\n  };\r\n  \r\n  ctrl.pageLimits = [20, 40, 60];\r\n  ctrl.pageLimit = ctrl.pageLimits[0];\r\n  \r\n  $scope.$watch(function () {\r\n    return ctrl.filterValues;\r\n  }, function (filter) {\r\n    $localStorage.characterFilterValues = ctrl.filterValues;\r\n    \r\n    Characters.getAll(filter).then(function (characters) {\r\n      var maxLimit = ctrl.pageLimits[ctrl.pageLimits.length - 1];\r\n      ctrl.characters = characters.slice(0, maxLimit);\r\n    });\r\n  }, true);\r\n});","angular.module('app')\r\n.controller('RankingsController', function ($scope) {\r\n  var ctrl = this;\r\n  \r\n});","angular.module('app')\r\n.controller('SpiritStonesController', function ($scope, $localStorage, SpiritStones, ImageIcons) {\r\n  var ctrl = this;\r\n  \r\n  ctrl.filterValues = $localStorage.spiritStoneFilterValues;\r\n  if (!ctrl.filterValues) {\r\n    ctrl.filterValues = {};\r\n  }\r\n  \r\n  ctrl.filters = {};\r\n  \r\n  ctrl.filters.element = {\r\n    name: 'Element',\r\n    options: [\r\n      { value: 'Ardor', image: ImageIcons.get('element', 'ardor') },\r\n      { value: 'Whirlwind', image: ImageIcons.get('element', 'whirlwind') },\r\n      { value: 'Thunder', image: ImageIcons.get('element', 'thunder') },\r\n      { value: 'Light', image: ImageIcons.get('element', 'light') },\r\n      { value: 'Dark', image: ImageIcons.get('element', 'dark') }\r\n    ]\r\n  };\r\n  \r\n  ctrl.filters.rarity = {\r\n    name: 'Rarity',\r\n    options: [\r\n      { value: 'Common' },\r\n      { value: 'Rare' },\r\n      { value: 'Unique' }\r\n    ]\r\n  };\r\n  \r\n  ctrl.filters.zodiac = {\r\n    name: 'Zodiac',\r\n    options: [\r\n      'Aquarius', 'Aries',\r\n      'Cancer', 'Capricorn',\r\n      'Gemini',\r\n      'Leo', 'Libra',\r\n      'Pisces',\r\n      'Sagittarius', 'Scorpio',\r\n      'Taurus',\r\n      'Virgo'\r\n    ].map(function (name) {\r\n      return {\r\n        value: name,\r\n        image: ImageIcons.get('stone', name)\r\n      };\r\n    })\r\n  };\r\n  \r\n  $scope.$watch(function () {\r\n    return ctrl.filterValues;\r\n  }, function (filter) {\r\n    $localStorage.spiritStoneFilterValues = ctrl.filterValues;\r\n  \r\n    SpiritStones.getAll(filter).then(function (spiritStones) {\r\n      ctrl.spiritStones = spiritStones;\r\n    });\r\n  }, true);\r\n});"],"sourceRoot":"/source/"}